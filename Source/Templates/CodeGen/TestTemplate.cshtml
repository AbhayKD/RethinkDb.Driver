@using System.Collections.Generic
@using System.Linq
@using Humanizer
@using Newtonsoft.Json.Linq
@using Templates
@using Templates.CodeGen.Util
@using Templates.Metadata

@inherits Templates.CodeGen.BaseTemplate

@functions {
    public YamlTest YamlTest { get; set; }

}


//AUTOGENERATED, DO NOTMODIFY.
//Do not edit this file directly.

#pragma warning disable 1591
// ReSharper disable CheckNamespace

using System;
using System.Linq;
using System.Collections;
using System.Collections.Generic;
using RethinkDb.Driver.Model;
using RethinkDb.Driver.Ast;
using NUnit.Framework;
using RethinkDb.Driver.Tests;

namespace RethinkDb.Driver.Test.Generated {
    [TestFixture]
    public class @YamlTest.ModuleName : GeneratedTest {

        @foreach( var table in this.YamlTest.TableVarNames )
        {
            @:public static Table @table = r.db(DbName).table("@table");
        }


        [Test]
        public void YamlTest(){

     @foreach( var test in this.YamlTest.DefsAndTests )
     {
         if( test.TestType == "JavaDef" )
         {
             @:
             @://JavaDef, @test.TestFile, #@test.
             @://Original: @test.Original
             @:
             @test.Java
             @:
         }
         else if( test.TestType == "JavaQuery" )
         {
             @:TestCounter++;
             @:
             @:{
                 @://JavaQuery, @test.TestFile, #@test.TestNum
                 @:/* ExpectedOriginal: @test.ExpectedOriginal */
                 @:var expected = @(test.ExpectedJava ?? "null as object");
                 @:
                 @:/* Original: @test.Original */
                 @:var obtained = runOrCatch( @test.Java ,
                 @:                           new OptArgs()
                 foreach( var opt in test.RunOpts )
                 {
                     @:.with("@opt.Key", @opt.Val)
                 }
                 @:   );
                 
                 @:assertEquals(expected, obtained);
             @:}
             @:
         }
     }

        }
    }
}
