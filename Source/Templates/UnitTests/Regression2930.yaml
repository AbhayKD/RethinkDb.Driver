ModuleName: Regression2930
TableVarNames:
- tbl
DefsAndTests:
- TestType: JavaQuery
  TestFile: regression/2930.yaml
  TestNum: 1
  Original: tbl.insert([{'id':i,'mod':i%5,'foo':5} for i in range(1,1000)]).pluck('first_error', 'inserted')
  Java: tbl.insert(LongStream.range(1L, 1000L).boxed().map(i -> r.hashMap("id", i).with("mod", r.mod(i, 5L)).with("foo", 5L)).collect(Collectors.toList())).pluck("first_error", "inserted")
  ExpectedOriginal: ({'inserted':999})
  ExpectedType: Map
  ExpectedJava: r.hashMap("inserted", 999L)
  RunOpts: []
- TestType: JavaQuery
  TestFile: regression/2930.yaml
  TestNum: 2
  Original: tbl.coerce_to('array')
  Java: tbl.coerceTo("array")
  ExpectedOriginal: err("ReqlResourceLimitError", "Array over size limit `500`.", [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlResourceLimitError", "Array over size limit `500`.", r.array(0L))
  RunOpts:
  - Key: array_limit
    Val: 500L
- TestType: JavaQuery
  TestFile: regression/2930.yaml
  TestNum: 3
  Original: tbl.group('mod').coerce_to('array')
  Java: tbl.group("mod").coerceTo("array")
  ExpectedOriginal: err("ReqlResourceLimitError", "Grouped data over size limit `500`.  Try putting a reduction (like `.reduce` or `.count`) on the end.", [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlResourceLimitError", "Grouped data over size limit `500`.  Try putting a reduction (like `.reduce` or `.count`) on the end.", r.array(0L))
  RunOpts:
  - Key: array_limit
    Val: 500L
- TestType: JavaQuery
  TestFile: regression/2930.yaml
  TestNum: 4
  Original: tbl.group('foo').coerce_to('array')
  Java: tbl.group("foo").coerceTo("array")
  ExpectedOriginal: err("ReqlResourceLimitError", "Grouped data over size limit `500`.  Try putting a reduction (like `.reduce` or `.count`) on the end.", [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlResourceLimitError", "Grouped data over size limit `500`.  Try putting a reduction (like `.reduce` or `.count`) on the end.", r.array(0L))
  RunOpts:
  - Key: array_limit
    Val: 500L
