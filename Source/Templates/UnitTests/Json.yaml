ModuleName: Json
DefsAndTests:
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 1
  Original: '[1, 2, 3]'
  ExpectedType: List
  ExpectedJava: Arrays.asList(1, 2, 3)
  Obtained: r.json("[1,2,3]")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 2
  Original: 1
  ExpectedType: Integer
  ExpectedJava: 1
  Obtained: r.json("1")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 3
  Original: '{}'
  ExpectedType: Map
  ExpectedJava: new MapObject()
  Obtained: r.json("{}")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 4
  Original: '"foo"'
  ExpectedType: String
  ExpectedJava: '"foo"'
  Obtained: r.json(""foo"")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 5
  Original: err("ReqlQueryLogicError", 'Failed to parse "[1,2" as JSON:' + ' Missing a comma or \']\' after an array element.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Failed to parse "[1,2" as JSON:" + " Missing a comma or ']' after an array element.", Arrays.asList(0))
  Obtained: r.json("[1,2")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 6
  Original: ('[1,2,3]')
  ExpectedType: String
  ExpectedJava: '"[1,2,3]"'
  Obtained: r.json("[1,2,3]").toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 7
  Original: ('[1,2,3]')
  ExpectedType: String
  ExpectedJava: '"[1,2,3]"'
  Obtained: r.json("[1,2,3]").toJson()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 8
  Original: ('{"foo":4}')
  ExpectedType: String
  ExpectedJava: '"{"foo":4}"'
  Obtained: r.json("{"foo":4}").toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 9
  Original: ('{"foo":4}')
  ExpectedType: String
  ExpectedJava: '"{"foo":4}"'
  Obtained: r.json("{"foo":4}").toJson()
- TestType: JavaDef
  TestFile: json.yaml
  TestNum: 10
  Original: text = '[{"id":1,"first_name":"Harry","last_name":"Riley","email":"hriley0@usgs.gov","country":"Andorra","ip_address":"221.25.65.136"},{"id":2,"first_name":"Bonnie","last_name":"Anderson","email":"banderson1@list-manage.com","country":"Tuvalu","ip_address":"116.162.43.150"},{"id":3,"first_name":"Marie","last_name":"Schmidt","email":"mschmidt2@diigo.com","country":"Iraq","ip_address":"181.105.59.57"},{"id":4,"first_name":"Phillip","last_name":"Willis","email":"pwillis3@com.com","country":"Montenegro","ip_address":"24.223.139.156"}]'
  Java: String text = (String) "[{"id":1,"first_name":"Harry","last_name":"Riley","email":"hriley0@usgs.gov","country":"Andorra","ip_address":"221.25.65.136"},{"id":2,"first_name":"Bonnie","last_name":"Anderson","email":"banderson1@list-manage.com","country":"Tuvalu","ip_address":"116.162.43.150"},{"id":3,"first_name":"Marie","last_name":"Schmidt","email":"mschmidt2@diigo.com","country":"Iraq","ip_address":"181.105.59.57"},{"id":4,"first_name":"Phillip","last_name":"Willis","email":"pwillis3@com.com","country":"Montenegro","ip_address":"24.223.139.156"}]";
- TestType: JavaDef
  TestFile: json.yaml
  TestNum: 11
  Original: sorted = '[{"country":"Andorra","email":"hriley0@usgs.gov","first_name":"Harry","id":1,"ip_address":"221.25.65.136","last_name":"Riley"},{"country":"Tuvalu","email":"banderson1@list-manage.com","first_name":"Bonnie","id":2,"ip_address":"116.162.43.150","last_name":"Anderson"},{"country":"Iraq","email":"mschmidt2@diigo.com","first_name":"Marie","id":3,"ip_address":"181.105.59.57","last_name":"Schmidt"},{"country":"Montenegro","email":"pwillis3@com.com","first_name":"Phillip","id":4,"ip_address":"24.223.139.156","last_name":"Willis"}]'
  Java: String sorted = (String) "[{"country":"Andorra","email":"hriley0@usgs.gov","first_name":"Harry","id":1,"ip_address":"221.25.65.136","last_name":"Riley"},{"country":"Tuvalu","email":"banderson1@list-manage.com","first_name":"Bonnie","id":2,"ip_address":"116.162.43.150","last_name":"Anderson"},{"country":"Iraq","email":"mschmidt2@diigo.com","first_name":"Marie","id":3,"ip_address":"181.105.59.57","last_name":"Schmidt"},{"country":"Montenegro","email":"pwillis3@com.com","first_name":"Phillip","id":4,"ip_address":"24.223.139.156","last_name":"Willis"}]";
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 12
  Original: sorted
  ExpectedType: String
  ExpectedJava: sorted
  Obtained: r.json(text).toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 13
  Original: err('ReqlQueryLogicError', 'Cannot convert `r.minval` to JSON.')
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Cannot convert `r.minval` to JSON.")
  Obtained: r.expr(r.minval()).toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 14
  Original: err('ReqlQueryLogicError', 'Cannot convert `r.maxval` to JSON.')
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Cannot convert `r.maxval` to JSON.")
  Obtained: r.expr(r.maxval()).toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 15
  Original: err('ReqlQueryLogicError', 'Cannot convert `r.minval` to JSON.')
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Cannot convert `r.minval` to JSON.")
  Obtained: r.expr(r.minval()).coerceTo("string")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 16
  Original: err('ReqlQueryLogicError', 'Cannot convert `r.maxval` to JSON.')
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Cannot convert `r.maxval` to JSON.")
  Obtained: r.expr(r.maxval()).coerceTo("string")
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 17
  Original: ({'timezone':'+00:00','$reql_type$':'TIME','epoch_time':1410393600})
  ExpectedType: Map
  ExpectedJava: new MapObject().with("timezone", "+00:00").with("$reql_type$", "TIME").with("epoch_time", 1410393600)
  Obtained: r.time(2014, 9, 11, "Z")
  RunOpts:
  - Key: time_format
    Val: raw
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 18
  Original: ('{"$reql_type$":"TIME","epoch_time":1410393600,"timezone":"+00:00"}')
  ExpectedType: String
  ExpectedJava: '"{"$reql_type$":"TIME","epoch_time":1410393600,"timezone":"+00:00"}"'
  Obtained: r.time(2014, 9, 11, "Z").toJsonString()
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 19
  Original: ({'$reql_type$':'GEOMETRY','coordinates':[0,0],'type':'Point'})
  ExpectedType: Map
  ExpectedJava: new MapObject().with("$reql_type$", "GEOMETRY").with("coordinates", Arrays.asList(0, 0)).with("type", "Point")
  Obtained: r.point(0, 0)
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 20
  Original: ('{"$reql_type$":"GEOMETRY","coordinates":[0,0],"type":"Point"}')
  ExpectedType: String
  ExpectedJava: '"{"$reql_type$":"GEOMETRY","coordinates":[0,0],"type":"Point"}"'
  Obtained: r.point(0, 0).toJsonString()
- TestType: JavaDef
  TestFile: json.yaml
  TestNum: 21
  Original: s = b'\x66\x6f\x6f'
  Java: byte[] s = (byte[]) "'foo".getBytes(StandardCharsets.UTF_8);
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 22
  Original: (s)
  ExpectedType: byte[]
  ExpectedJava: s
  Obtained: r.binary(s)
- TestType: JavaQuery
  TestFile: json.yaml
  TestNum: 23
  Original: ('{"$reql_type$":"BINARY","data":"Zm9v"}')
  ExpectedType: String
  ExpectedJava: '"{"$reql_type$":"BINARY","data":"Zm9v"}"'
  Obtained: r.expr("foo").coerceTo("binary").toJsonString()
