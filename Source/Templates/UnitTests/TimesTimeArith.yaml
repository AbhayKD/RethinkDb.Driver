ModuleName: TimesTimeArith
DefsAndTests:
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 1
  Original: rt1 = 1375147296.681
  Java: Double rt1 = (Double) 1375147296.681;
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 2
  Original: rt2 = 1375147296.682
  Java: Double rt2 = (Double) 1375147296.682;
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 3
  Original: rt3 = 1375147297.681
  Java: Double rt3 = (Double) 1375147297.681;
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 4
  Original: rt4 = 2375147296.681
  Java: Double rt4 = (Double) 2375147296.681;
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 5
  Original: rts = [rt1, rt2, rt3, rt4]
  Java: List rts = (List) Arrays.asList(rt1, rt2, rt3, rt4);
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 6
  Original: t1 = r.epoch_time(rt1)
  Java: EpochTime t1 = (EpochTime) r.epochTime(rt1);
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 7
  Original: t2 = r.epoch_time(rt2)
  Java: EpochTime t2 = (EpochTime) r.epochTime(rt2);
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 8
  Original: t3 = r.epoch_time(rt3)
  Java: EpochTime t3 = (EpochTime) r.epochTime(rt3);
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 9
  Original: t4 = r.epoch_time(rt4)
  Java: EpochTime t4 = (EpochTime) r.epochTime(rt4);
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 10
  Original: ts = r.expr([t1, t2, t3, t4])
  Java: MakeArray ts = (MakeArray) r.expr(Arrays.asList(t1, t2, t3, t4));
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 11
  Original: True
  ExpectedType: Boolean
  ExpectedJava: true
  Obtained: r.mul(r.sub(t2, t1), 1000).do_(x -> r.and(r.gt(x, 0.99), r.lt(x, 1.01)))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 12
  Original: 1
  ExpectedType: Integer
  ExpectedJava: 1
  Obtained: r.sub(t3, t1)
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 13
  Original: 1000000000
  ExpectedType: Integer
  ExpectedJava: 1000000000
  Obtained: r.sub(t4, t1)
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 14
  Original: True
  ExpectedType: Boolean
  ExpectedJava: true
  Obtained: r.mul(r.sub(t1, t2), 1000).do_(x -> r.and(r.lt(x, -0.99), r.gt(x, -1.01)))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 15
  Original: -1
  ExpectedType: Integer
  ExpectedJava: -1
  Obtained: r.sub(t1, t3)
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 16
  Original: -1000000000
  ExpectedType: Integer
  ExpectedJava: -1000000000
  Obtained: r.sub(t1, t4)
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 17
  Original: ([rt1, rt2, rt3, rt4])
  ExpectedType: List
  ExpectedJava: Arrays.asList(rt1, rt2, rt3, rt4)
  Obtained: ts.map(x -> r.add(t1, r.sub(x, t1))).map(x -> x.toEpochTime())
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 18
  Original: err("ReqlQueryLogicError", "Expected type NUMBER but found PTYPE<TIME>.", [])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Expected type NUMBER but found PTYPE<TIME>.", Arrays.asList())
  Obtained: ts.map(x -> r.sub(r.add(t1, x), t1)).map(x -> x.toEpochTime())
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 19
  Original: ([rt1, rt2, rt3, rt4])
  ExpectedType: List
  ExpectedJava: Arrays.asList(rt1, rt2, rt3, rt4)
  Obtained: ts.map(x -> r.sub(t1, r.sub(t1, x))).map(x -> x.toEpochTime())
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 20
  Original: ([[[false, true,  true,  false, true,  false], [true,  true,  false, true,  false, false], [true,  true,  false, true,  false, false], [true,  true,  false, true,  false, false]], [[false, false, false, true,  true,  true], [false, true,  true,  false, true,  false], [true,  true,  false, true,  false, false], [true,  true,  false, true,  false, false]], [[false, false, false, true,  true,  true], [false, false, false, true,  true,  true], [false, true,  true,  false, true,  false], [true,  true,  false, true,  false, false]], [[false, false, false, true,  true,  true], [false, false, false, true,  true,  true], [false, false, false, true,  true,  true], [false, true,  true,  false, true,  false]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(false, true, true, false, true, false), Arrays.asList(true, true, false, true, false, false), Arrays.asList(true, true, false, true, false, false), Arrays.asList(true, true, false, true, false, false)), Arrays.asList(Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, true, true, false, true, false), Arrays.asList(true, true, false, true, false, false), Arrays.asList(true, true, false, true, false, false)), Arrays.asList(Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, true, true, false, true, false), Arrays.asList(true, true, false, true, false, false)), Arrays.asList(Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, false, false, true, true, true), Arrays.asList(false, true, true, false, true, false)))
  Obtained: ts.map(x -> ts.map(y -> Arrays.asList(r.lt(x, y), r.le(x, y), r.eq(x, y), r.ne(x, y), r.ge(x, y), r.gt(x, y))))
- TestType: JavaDef
  TestFile: times/time_arith.yaml
  TestNum: 21
  Original: datum_types = r.expr([null, true, false, 1, "1", [1], {"1":1}, r.binary(b'')])
  Java: MakeArray datum_types = (MakeArray) r.expr(Arrays.asList(null, true, false, 1, "1", Arrays.asList(1), new MapObject().with("1", 1), r.binary("'".getBytes(StandardCharsets.UTF_8))));
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 22
  Original: ([[[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[false, false, false, true,  true,  true], [true,  true,  false, true,  false, false]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]], [[true,  true,  false, true,  false, false], [false, false, false, true,  true,  true]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(false, false, false, true, true, true), Arrays.asList(true, true, false, true, false, false)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)), Arrays.asList(Arrays.asList(true, true, false, true, false, false), Arrays.asList(false, false, false, true, true, true)))
  Obtained: datum_types.map(x -> r.expr(Arrays.asList(Arrays.asList(x, t1), Arrays.asList(t1, x))).map(xy -> xy.bracket(0).do_(x -> xy.bracket(1).do_(y -> Arrays.asList(r.lt(x, y), r.le(x, y), r.eq(x, y), r.ne(x, y), r.ge(x, y), r.gt(x, y))))))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 23
  Original: ([[[false, true,  true,  true], [false, false, true,  true], [false, false, false, true], [false, false, false, false]], [[false, false, false, false], [false, false, true,  true], [false, false, false, true], [false, false, false, false]], [[false, false, false, false], [false, false, false, false], [false, false, false, true], [false, false, false, false]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(false, true, true, true), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, true), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false)))
  Obtained: ts.map(a -> ts.map(b -> ts.map(c -> b.during(a, c))))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 24
  Original: ([[[false, false, false, false], [false, false, true,  true], [false, false, false, true], [false, false, false, false]], [[false, false, false, false], [false, false, false, false], [false, false, false, true], [false, false, false, false]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, true), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false)))
  Obtained: ts.map(a -> ts.map(b -> ts.map(c -> b.during(a, c).optArg("left_bound", "open"))))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 25
  Original: ([[[true,  true,  true,  true], [false, true,  true,  true], [false, false, true,  true], [false, false, false, true]], [[false, false, false, false], [false, true,  true,  true], [false, false, true,  true], [false, false, false, true]], [[false, false, false, false], [false, false, false, false], [false, false, true,  true], [false, false, false, true]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, true]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(true, true, true, true), Arrays.asList(false, true, true, true), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, true, true, true), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, true)))
  Obtained: ts.map(a -> ts.map(b -> ts.map(c -> b.during(a, c).optArg("right_bound", "closed"))))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 26
  Original: ([[[false, false, false, false], [false, true,  true,  true], [false, false, true,  true], [false, false, false, true]], [[false, false, false, false], [false, false, false, false], [false, false, true,  true], [false, false, false, true]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, true]], [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]]])
  ExpectedType: List
  ExpectedJava: Arrays.asList(Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, true, true, true), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, true, true), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, true)), Arrays.asList(Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false), Arrays.asList(false, false, false, false)))
  Obtained: ts.map(a -> ts.map(b -> ts.map(c -> b.during(a, c).optArg("left_bound", "open").optArg("right_bound", "closed"))))
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 27
  Original: rts
  ExpectedType: List
  ExpectedJava: rts
  Obtained: ts.map(x -> r.add(x.date(), x.timeOfDay())).map(x -> x.toEpochTime())
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 28
  Original: rt1
  ExpectedType: Double
  ExpectedJava: rt1
  Obtained: r.epochTime(rt1).do_(r.js("(function(data){return data})")).toEpochTime()
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 29
  Original: ("2012-08-01T00:00:00+00:00")
  ExpectedType: String
  ExpectedJava: '"2012-08-01T00:00:00+00:00"'
  Obtained: r.do_(r.js("new Date('2012-08-01')")).toIso8601()
- TestType: JavaQuery
  TestFile: times/time_arith.yaml
  TestNum: 30
  Original: ("2012-08-01T00:00:00+00:00")
  ExpectedType: String
  ExpectedJava: '"2012-08-01T00:00:00+00:00"'
  Obtained: r.do_(r.js("(function(x){doc = new Object(); doc.date = new Date('2012-08-01'); return doc;})")).bracket("date").toIso8601()
