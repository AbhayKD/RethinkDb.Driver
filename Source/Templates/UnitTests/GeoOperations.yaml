ModuleName: GeoOperations
DefsAndTests:
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 1
  Original: r.distance(r.point(-122, 37), r.point(-123, 37)).coerce_to('STRING')
  Java: r.distance(r.point(-122, 37), r.point(-123, 37)).coerceTo("STRING")
  ExpectedOriginal: ("89011.26253835332")
  ExpectedType: String
  ExpectedJava: '"89011.26253835332"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 2
  Original: r.distance(r.point(-122, 37), r.point(-122, 36)).coerce_to('STRING')
  Java: r.distance(r.point(-122, 37), r.point(-122, 36)).coerceTo("STRING")
  ExpectedOriginal: ("110968.30443995494")
  ExpectedType: String
  ExpectedJava: '"110968.30443995494"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 3
  Original: r.distance(r.point(-122, 37), r.point(-122, 36)).eq(r.distance(r.point(-122, 36), r.point(-122, 37)))
  Java: r.distance(r.point(-122, 37), r.point(-122, 36)).eq(r.distance(r.point(-122, 36), r.point(-122, 37)))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 4
  Original: r.point(-122, 37).distance(r.point(-123, 37)).coerce_to('STRING')
  Java: r.point(-122, 37).distance(r.point(-123, 37)).coerceTo("STRING")
  ExpectedOriginal: ("89011.26253835332")
  ExpectedType: String
  ExpectedJava: '"89011.26253835332"'
  RunOpts: []
- TestType: JavaDef
  TestFile: geo/operations.yaml
  TestNum: 5
  Original: someDist = r.distance(r.point(-122, 37), r.point(-123, 37))
  Java: Distance someDist = (Distance) r.distance(r.point(-122, 37), r.point(-123, 37));
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 5
  Original: someDist.eq(r.distance(r.point(-122, 37), r.point(-123, 37), unit='m'))
  Java: someDist.eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("unit", "m"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 6
  Original: someDist.mul(1.0/1000.0).eq(r.distance(r.point(-122, 37), r.point(-123, 37), unit='km'))
  Java: someDist.mul(r.div(1.0, 1000.0)).eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("unit", "km"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 7
  Original: someDist.mul(1.0/1609.344).eq(r.distance(r.point(-122, 37), r.point(-123, 37), unit='mi'))
  Java: someDist.mul(r.div(1.0, 1609.344)).eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("unit", "mi"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 8
  Original: someDist.mul(1.0/0.3048).eq(r.distance(r.point(-122, 37), r.point(-123, 37), unit='ft'))
  Java: someDist.mul(r.div(1.0, 0.3048)).eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("unit", "ft"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 9
  Original: someDist.mul(1.0/1852.0).eq(r.distance(r.point(-122, 37), r.point(-123, 37), unit='nm'))
  Java: someDist.mul(r.div(1.0, 1852.0)).eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("unit", "nm"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 10
  Original: someDist.eq(r.distance(r.point(-122, 37), r.point(-123, 37), geo_system='WGS84'))
  Java: someDist.eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("geo_system", "WGS84"))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 11
  Original: someDist.div(10).eq(r.distance(r.point(-122, 37), r.point(-123, 37), geo_system={'a':637813.7, 'f':(1.0/298.257223563)}))
  Java: someDist.div(10).eq(r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("geo_system", new MapObject().with("a", 637813.7).with("f", r.div(1.0, 298.257223563))))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 12
  Original: r.distance(r.point(-122, 37), r.point(-123, 37), geo_system='unit_sphere').coerce_to('STRING')
  Java: r.distance(r.point(-122, 37), r.point(-123, 37)).optArg("geo_system", "unit_sphere").coerceTo("STRING")
  ExpectedOriginal: ("0.01393875509649327")
  ExpectedType: String
  ExpectedJava: '"0.01393875509649327"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 13
  Original: r.distance(r.point(0, 0), r.point(0, 0)).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.point(0, 0)).coerceTo("STRING")
  ExpectedOriginal: ("0")
  ExpectedType: String
  ExpectedJava: '"0"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 14
  Original: r.distance(r.point(0, 0), r.point(180, 0)).mul(2).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.point(180, 0)).mul(2).coerceTo("STRING")
  ExpectedOriginal: ("40007862.917250897")
  ExpectedType: String
  ExpectedJava: '"40007862.917250897"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 15
  Original: r.distance(r.point(0, -90), r.point(0, 90)).mul(2).coerce_to('STRING')
  Java: r.distance(r.point(0, -90), r.point(0, 90)).mul(2).coerceTo("STRING")
  ExpectedOriginal: ("40007862.917250897")
  ExpectedType: String
  ExpectedJava: '"40007862.917250897"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 16
  Original: r.distance(r.point(0, 0), r.line([0,0], [0,1])).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.line(Arrays.asList(0, 0), Arrays.asList(0, 1))).coerceTo("STRING")
  ExpectedOriginal: ("0")
  ExpectedType: String
  ExpectedJava: '"0"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 17
  Original: r.distance(r.line([0,0], [0,1]), r.point(0, 0)).coerce_to('STRING')
  Java: r.distance(r.line(Arrays.asList(0, 0), Arrays.asList(0, 1)), r.point(0, 0)).coerceTo("STRING")
  ExpectedOriginal: ("0")
  ExpectedType: String
  ExpectedJava: '"0"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 18
  Original: r.distance(r.point(0, 0), r.line([0.1,0], [1,0])).eq(r.distance(r.point(0, 0), r.point(0.1, 0)))
  Java: r.distance(r.point(0, 0), r.line(Arrays.asList(0.1, 0), Arrays.asList(1, 0))).eq(r.distance(r.point(0, 0), r.point(0.1, 0)))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 19
  Original: r.distance(r.point(0, 0), r.line([5,-1], [4,2])).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.line(Arrays.asList(5, -1), Arrays.asList(4, 2))).coerceTo("STRING")
  ExpectedOriginal: ("492471.4990055255")
  ExpectedType: String
  ExpectedJava: '"492471.4990055255"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 20
  Original: r.distance(r.point(0, 0), r.polygon([5,-1], [4,2], [10,10])).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.polygon(Arrays.asList(5, -1), Arrays.asList(4, 2), Arrays.asList(10, 10))).coerceTo("STRING")
  ExpectedOriginal: ("492471.4990055255")
  ExpectedType: String
  ExpectedJava: '"492471.4990055255"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 21
  Original: r.distance(r.point(0, 0), r.polygon([0,-1], [0,1], [10,10])).coerce_to('STRING')
  Java: r.distance(r.point(0, 0), r.polygon(Arrays.asList(0, -1), Arrays.asList(0, 1), Arrays.asList(10, 10))).coerceTo("STRING")
  ExpectedOriginal: ("0")
  ExpectedType: String
  ExpectedJava: '"0"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 22
  Original: r.distance(r.point(0.5, 0.5), r.polygon([0,-1], [0,1], [10,10])).coerce_to('STRING')
  Java: r.distance(r.point(0.5, 0.5), r.polygon(Arrays.asList(0, -1), Arrays.asList(0, 1), Arrays.asList(10, 10))).coerceTo("STRING")
  ExpectedOriginal: ("0")
  ExpectedType: String
  ExpectedJava: '"0"'
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 23
  Original: r.circle([0,0], 1, fill=false).eq(r.circle([0,0], 1, fill=true))
  Java: r.circle(Arrays.asList(0, 0), 1).optArg("fill", false).eq(r.circle(Arrays.asList(0, 0), 1).optArg("fill", true))
  ExpectedOriginal: False
  ExpectedType: Boolean
  ExpectedJava: false
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 24
  Original: r.circle([0,0], 1, fill=false).fill().eq(r.circle([0,0], 1, fill=true))
  Java: r.circle(Arrays.asList(0, 0), 1).optArg("fill", false).fill().eq(r.circle(Arrays.asList(0, 0), 1).optArg("fill", true))
  ExpectedOriginal: True
  ExpectedType: Boolean
  ExpectedJava: true
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 25
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0.1,0.1], [0.9,0.1], [0.9,0.9], [0.1,0.9]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0.1, 0.1), Arrays.asList(0.9, 0.1), Arrays.asList(0.9, 0.9), Arrays.asList(0.1, 0.9)))
  ExpectedOriginal: ({'$reql_type$':'GEOMETRY', 'coordinates':[[[0,0],[1,0],[1,1],[0,1],[0,0]],[[0.1,0.1],[0.9,0.1],[0.9,0.9],[0.1,0.9],[0.1,0.1]]], 'type':'Polygon'})
  ExpectedType: Map
  ExpectedJava: new MapObject().with("$reql_type$", "GEOMETRY").with("coordinates", Arrays.asList(Arrays.asList(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1), Arrays.asList(0, 0)), Arrays.asList(Arrays.asList(0.1, 0.1), Arrays.asList(0.9, 0.1), Arrays.asList(0.9, 0.9), Arrays.asList(0.1, 0.9), Arrays.asList(0.1, 0.1)))).with("type", "Polygon")
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 26
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0.1,0.9], [0.9,0.0], [0.9,0.9], [0.1,0.9]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0.1, 0.9), Arrays.asList(0.9, 0.0), Arrays.asList(0.9, 0.9), Arrays.asList(0.1, 0.9)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'The second argument to `polygon_sub` is not contained in the first one.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "The second argument to `polygon_sub` is not contained in the first one.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 27
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0,0], [2,0], [2,2], [0,2]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0, 0), Arrays.asList(2, 0), Arrays.asList(2, 2), Arrays.asList(0, 2)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'The second argument to `polygon_sub` is not contained in the first one.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "The second argument to `polygon_sub` is not contained in the first one.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 28
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0,-2], [1,-2], [-1,1], [0,-1]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0, -2), Arrays.asList(1, -2), Arrays.asList(-1, 1), Arrays.asList(0, -1)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'The second argument to `polygon_sub` is not contained in the first one.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "The second argument to `polygon_sub` is not contained in the first one.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 29
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0,-1], [1,-1], [1,0], [0,0]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0, -1), Arrays.asList(1, -1), Arrays.asList(1, 0), Arrays.asList(0, 0)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'The second argument to `polygon_sub` is not contained in the first one.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "The second argument to `polygon_sub` is not contained in the first one.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 30
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0.1,-1], [0.9,-1], [0.9,0.5], [0.1,0.5]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0.1, -1), Arrays.asList(0.9, -1), Arrays.asList(0.9, 0.5), Arrays.asList(0.1, 0.5)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'The second argument to `polygon_sub` is not contained in the first one.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "The second argument to `polygon_sub` is not contained in the first one.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 31
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0,0],[0.1,0.9],[0.9,0.9],[0.9,0.1]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0, 0), Arrays.asList(0.1, 0.9), Arrays.asList(0.9, 0.9), Arrays.asList(0.9, 0.1)))
  ExpectedOriginal: ({'$reql_type$':'GEOMETRY', 'coordinates':[[[0,0],[1,0],[1,1],[0,1],[0,0]],[[0,0],[0.1,0.9],[0.9,0.9],[0.9,0.1],[0,0]]], 'type':'Polygon'})
  ExpectedType: Map
  ExpectedJava: new MapObject().with("$reql_type$", "GEOMETRY").with("coordinates", Arrays.asList(Arrays.asList(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1), Arrays.asList(0, 0)), Arrays.asList(Arrays.asList(0, 0), Arrays.asList(0.1, 0.9), Arrays.asList(0.9, 0.9), Arrays.asList(0.9, 0.1), Arrays.asList(0, 0)))).with("type", "Polygon")
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 32
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.polygon([0,0],[0.1,0.9],[0.9,0.9],[0.9,0.1]).polygon_sub(r.polygon([0.2,0.2],[0.5,0.8],[0.8,0.2])))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.polygon(Arrays.asList(0, 0), Arrays.asList(0.1, 0.9), Arrays.asList(0.9, 0.9), Arrays.asList(0.9, 0.1)).polygonSub(r.polygon(Arrays.asList(0.2, 0.2), Arrays.asList(0.5, 0.8), Arrays.asList(0.8, 0.2))))
  ExpectedOriginal: err('ReqlQueryLogicError', 'Expected a Polygon with only an outer shell.  This one has holes.', [0])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Expected a Polygon with only an outer shell.  This one has holes.", Arrays.asList(0))
  RunOpts: []
- TestType: JavaQuery
  TestFile: geo/operations.yaml
  TestNum: 33
  Original: r.polygon([0,0], [1,0], [1,1], [0,1]).polygon_sub(r.line([0,0],[0.9,0.1],[0.9,0.9],[0.1,0.9]))
  Java: r.polygon(Arrays.asList(0, 0), Arrays.asList(1, 0), Arrays.asList(1, 1), Arrays.asList(0, 1)).polygonSub(r.line(Arrays.asList(0, 0), Arrays.asList(0.9, 0.1), Arrays.asList(0.9, 0.9), Arrays.asList(0.1, 0.9)))
  ExpectedOriginal: err('ReqlQueryLogicError', 'Expected a Polygon but found a LineString.', [])
  ExpectedType: Err
  ExpectedJava: err("ReqlQueryLogicError", "Expected a Polygon but found a LineString.", Arrays.asList())
  RunOpts: []
