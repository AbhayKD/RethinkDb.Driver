
ModuleName: "MutationAtomicGetSet"
TableVarNames:
    - tbl

DefsAndTests:

        
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 1
     Original: b'ZXJyKCJSZXFsUXVlcnlMb2dpY0Vycm9yIiwgIkVycm9yOiIrIiBlbmNvdW50ZXJlZCBvYnNvbGV0ZSBvcHRhcmcgYHJldHVybl92YWxzYC4gIFVzZSBgcmV0dXJuX2NoYW5nZXNgIGluc3RlYWQuIiwgWzBdKQ=='
     ExpectedType: Err
     ExpectedJava: b'ZXJyKCJSZXFsUXVlcnlMb2dpY0Vycm9yIiwgIkVycm9yOiIgKyAiIGVuY291bnRlcmVkIG9ic29sZXRlIG9wdGFyZyBgcmV0dXJuX3ZhbHNgLiAgVXNlIGByZXR1cm5fY2hhbmdlc2AgaW5zdGVhZC4iLCBBcnJheXMuYXNMaXN0KDApKQ=='
     Obtained: tbl.insert(new MapObject().with("id", 0)).optArg("return_vals", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 2
     Original: b'KHsnY2hhbmdlcyc6W3snb2xkX3ZhbCc6bnVsbCwnbmV3X3ZhbCc6eydpZCc6MH19XX0p'
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbnVsbCkud2l0aCgibmV3X3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDApKSkp'
     Obtained: tbl.insert(new MapObject().with("id", 0)).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 3
     Original: b'KHsnY2hhbmdlcyc6W10sICdmaXJzdF9lcnJvcic6IkR1cGxpY2F0ZSBwcmltYXJ5IGtleSBgaWRgOlxue1xuXHRcImlkXCI6XHQwXG59XG57XG5cdFwiaWRcIjpcdDBcbn0ifSk='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KCkpLndpdGgoImZpcnN0X2Vycm9yIiwgIkR1cGxpY2F0ZSBwcmltYXJ5IGtleSBgaWRgOlxue1xuXHQiaWQiOlx0MFxufVxue1xuXHQiaWQiOlx0MFxufSIp'
     Obtained: tbl.insert(new MapObject().with("id", 0)).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 4
     Original: b'KHsnZmlyc3RfZXJyb3InOiJEdXBsaWNhdGUgcHJpbWFyeSBrZXkgYGlkYDpcbntcblx0XCJpZFwiOlx0MFxufVxue1xuXHRcImlkXCI6XHQwXG59IiwnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MH0sJ25ld192YWwnOnsnaWQnOjB9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImZpcnN0X2Vycm9yIiwgIkR1cGxpY2F0ZSBwcmltYXJ5IGtleSBgaWRgOlxue1xuXHQiaWQiOlx0MFxufVxue1xuXHQiaWQiOlx0MFxufSIpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkpLndpdGgoIm5ld192YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAwKSkpKQ=='
     Obtained: tbl.insert(new MapObject().with("id", 0)).optArg("return_changes", "always").pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 5
     Original: b'KHsnY2hhbmdlcyc6W3snbmV3X3ZhbCc6eydpZCc6MX0sJ29sZF92YWwnOm51bGx9XSwgJ2Vycm9ycyc6MCwgJ2RlbGV0ZWQnOjAsICd1bmNoYW5nZWQnOjAsICdza2lwcGVkJzowLCAncmVwbGFjZWQnOjAsICdpbnNlcnRlZCc6MX0p'
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMSkpLndpdGgoIm9sZF92YWwiLCBudWxsKSkpLndpdGgoImVycm9ycyIsIDApLndpdGgoImRlbGV0ZWQiLCAwKS53aXRoKCJ1bmNoYW5nZWQiLCAwKS53aXRoKCJza2lwcGVkIiwgMCkud2l0aCgicmVwbGFjZWQiLCAwKS53aXRoKCJpbnNlcnRlZCIsIDEp'
     Obtained: tbl.insert(Arrays.asList(new MapObject().with("id", 1))).optArg("return_changes", true)
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 6
     Original: b'KHsnY2hhbmdlcyc6W10sJ2ZpcnN0X2Vycm9yJzoiRHVwbGljYXRlIHByaW1hcnkga2V5IGBpZGA6XG57XG5cdFwiaWRcIjpcdDBcbn1cbntcblx0XCJpZFwiOlx0MFxufSJ9KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KCkpLndpdGgoImZpcnN0X2Vycm9yIiwgIkR1cGxpY2F0ZSBwcmltYXJ5IGtleSBgaWRgOlxue1xuXHQiaWQiOlx0MFxufVxue1xuXHQiaWQiOlx0MFxufSIp'
     Obtained: tbl.insert(Arrays.asList(new MapObject().with("id", 0))).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 7
     Original: b'KHsnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MH0sJ25ld192YWwnOnsnaWQnOjAsJ3gnOjF9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkpLndpdGgoIm5ld192YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAwKS53aXRoKCJ4IiwgMSkpKSk='
     Obtained: tbl.get(0).update(new MapObject().with("x", 1)).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 8
     Original: b'KHsnY2hhbmdlcyc6W10sJ2ZpcnN0X2Vycm9yJzonYSd9KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KCkpLndpdGgoImZpcnN0X2Vycm9yIiwgImEiKQ=='
     Obtained: tbl.get(0).update(new MapObject().with("x", r.error("a"))).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 9
     Original: b'KHsnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MCwgJ3gnOjF9LCduZXdfdmFsJzp7J2lkJzowLCAneCc6M319LCB7J29sZF92YWwnOnsnaWQnOjF9LCduZXdfdmFsJzp7J2lkJzoxLCAneCc6M319XX0p'
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkud2l0aCgieCIsIDEpKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkud2l0aCgieCIsIDMpKSwgbmV3IE1hcE9iamVjdCgpLndpdGgoIm9sZF92YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAxKSkud2l0aCgibmV3X3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDEpLndpdGgoIngiLCAzKSkpKQ=='
     Obtained: tbl.update(new MapObject().with("x", 3)).optArg("return_changes", true).pluck("changes", "first_error").do_(d -> d.merge(new MapObject().with("changes", d.bracket("changes").orderBy(a -> a.bracket("old_val").bracket("id")))))
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 10
     Original: b'KHsnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MCwneCc6M30sJ25ld192YWwnOnsnaWQnOjAsJ3gnOjJ9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkud2l0aCgieCIsIDMpKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkud2l0aCgieCIsIDIpKSkp'
     Obtained: tbl.get(0).replace(new MapObject().with("id", 0).with("x", 2)).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 11
     Original: b'KHsnY2hhbmdlcyc6W10sJ2ZpcnN0X2Vycm9yJzonYSd9KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KCkpLndpdGgoImZpcnN0X2Vycm9yIiwgImEiKQ=='
     Obtained: tbl.get(0).replace(y -> new MapObject().with("x", r.error("a"))).optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 12
     Original: b'KHsnZmlyc3RfZXJyb3InOidhJywnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MCwneCc6Mn0sJ25ld192YWwnOnsnaWQnOjAsJ3gnOjJ9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImZpcnN0X2Vycm9yIiwgImEiKS53aXRoKCJjaGFuZ2VzIiwgQXJyYXlzLmFzTGlzdChuZXcgTWFwT2JqZWN0KCkud2l0aCgib2xkX3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDApLndpdGgoIngiLCAyKSkud2l0aCgibmV3X3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDApLndpdGgoIngiLCAyKSkpKQ=='
     Obtained: tbl.get(0).replace(y -> new MapObject().with("x", r.error("a"))).optArg("return_changes", "always").pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 13
     Original: b'KHsnY2hhbmdlcyc6W3snbmV3X3ZhbCc6eydpZCc6MH0sJ29sZF92YWwnOnsnaWQnOjAsICd4JzoyfX0sIHsnbmV3X3ZhbCc6eydpZCc6MX0sJ29sZF92YWwnOnsnaWQnOjEsJ3gnOjN9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkpLndpdGgoIm9sZF92YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAwKS53aXRoKCJ4IiwgMikpLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgibmV3X3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDEpKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMSkud2l0aCgieCIsIDMpKSkp'
     Obtained: tbl.replace(y -> y.without("x")).optArg("return_changes", true).pluck("changes", "first_error").do_(d -> d.merge(new MapObject().with("changes", d.bracket("changes").orderBy(a -> a.bracket("old_val").bracket("id")))))
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 14
     Original: b'KHsnZmlyc3RfZXJyb3InOiJJbnNlcnRlZCBvYmplY3QgbXVzdCBoYXZlIHByaW1hcnkga2V5IGBpZGA6XG57XG5cdFwieFwiOlx0MVxufSIsICdjaGFuZ2VzJzpbeyduZXdfdmFsJzp7J2lkJzowfSwnb2xkX3ZhbCc6eydpZCc6MH19LCB7J25ld192YWwnOnsnaWQnOjF9LCdvbGRfdmFsJzp7J2lkJzoxfX1dfSk='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImZpcnN0X2Vycm9yIiwgIkluc2VydGVkIG9iamVjdCBtdXN0IGhhdmUgcHJpbWFyeSBrZXkgYGlkYDpcbntcblx0IngiOlx0MVxufSIpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkpLndpdGgoIm9sZF92YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAwKSksIG5ldyBNYXBPYmplY3QoKS53aXRoKCJuZXdfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMSkpLndpdGgoIm9sZF92YWwiLCBuZXcgTWFwT2JqZWN0KCkud2l0aCgiaWQiLCAxKSkpKQ=='
     Obtained: tbl.replace(new MapObject().with("x", 1)).optArg("return_changes", "always").pluck("changes", "first_error").do_(d -> d.merge(new MapObject().with("changes", d.bracket("changes").orderBy(a -> a.bracket("old_val").bracket("id")))))
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 23
     Original: b'KHsnY2hhbmdlcyc6W3snb2xkX3ZhbCc6eydpZCc6MH0sJ25ld192YWwnOm51bGx9XX0p'
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJvbGRfdmFsIiwgbmV3IE1hcE9iamVjdCgpLndpdGgoImlkIiwgMCkpLndpdGgoIm5ld192YWwiLCBudWxsKSkp'
     Obtained: tbl.get(0).delete().optArg("return_changes", true).pluck("changes", "first_error")
   - TestType: JavaQuery
     TestFile: mutation/atomic_get_set.yaml
     TestNum: 24
     Original: b'KHsnZGVsZXRlZCc6MSwnZXJyb3JzJzowLCdpbnNlcnRlZCc6MCwncmVwbGFjZWQnOjAsJ3NraXBwZWQnOjAsJ3VuY2hhbmdlZCc6MCwnY2hhbmdlcyc6W3snbmV3X3ZhbCc6bnVsbCwgJ29sZF92YWwnOnsnaWQnOjF9fV19KQ=='
     ExpectedType: Map
     ExpectedJava: b'bmV3IE1hcE9iamVjdCgpLndpdGgoImRlbGV0ZWQiLCAxKS53aXRoKCJlcnJvcnMiLCAwKS53aXRoKCJpbnNlcnRlZCIsIDApLndpdGgoInJlcGxhY2VkIiwgMCkud2l0aCgic2tpcHBlZCIsIDApLndpdGgoInVuY2hhbmdlZCIsIDApLndpdGgoImNoYW5nZXMiLCBBcnJheXMuYXNMaXN0KG5ldyBNYXBPYmplY3QoKS53aXRoKCJuZXdfdmFsIiwgbnVsbCkud2l0aCgib2xkX3ZhbCIsIG5ldyBNYXBPYmplY3QoKS53aXRoKCJpZCIsIDEpKSkp'
     Obtained: tbl.delete().optArg("return_changes", true)
render_something: false

